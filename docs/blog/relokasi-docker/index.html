<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=44045&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Relokasi Docker | Rohimoz28</title>
<meta name=keywords content="docker"><meta name=description content="Latar Belakang Masalah
Secara default, direktori docker terletak pada /var/lib/docker. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage root kita yang pada akhirnya akan menghentikan service docker itu sendiri.
Solusi
Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi root.
Persiapan


stop semua docker yang sedang berjalan"><meta name=author content><link rel=canonical href=https://rohimoz28.github.io:44045/blog/relokasi-docker/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://rohimoz28.github.io:44045/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rohimoz28.github.io:44045/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rohimoz28.github.io:44045/favicon-32x32.png><link rel=apple-touch-icon href=https://rohimoz28.github.io:44045/apple-touch-icon.png><link rel=mask-icon href=https://rohimoz28.github.io:44045/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://rohimoz28.github.io:44045/blog/relokasi-docker/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Relokasi Docker"><meta property="og:description" content="Latar Belakang Masalah
Secara default, direktori docker terletak pada /var/lib/docker. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage root kita yang pada akhirnya akan menghentikan service docker itu sendiri.
Solusi
Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi root.
Persiapan


stop semua docker yang sedang berjalan"><meta property="og:type" content="article"><meta property="og:url" content="https://rohimoz28.github.io:44045/blog/relokasi-docker/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-08-29T18:41:16+07:00"><meta property="article:modified_time" content="2024-12-16T15:42:23+07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Relokasi Docker"><meta name=twitter:description content="Latar Belakang Masalah
Secara default, direktori docker terletak pada /var/lib/docker. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage root kita yang pada akhirnya akan menghentikan service docker itu sendiri.
Solusi
Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi root.
Persiapan


stop semua docker yang sedang berjalan"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://rohimoz28.github.io:44045/blog/"},{"@type":"ListItem","position":2,"name":"Relokasi Docker","item":"https://rohimoz28.github.io:44045/blog/relokasi-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Relokasi Docker","name":"Relokasi Docker","description":"Latar Belakang Masalah Secara default, direktori docker terletak pada /var/lib/docker. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage root kita yang pada akhirnya akan menghentikan service docker itu sendiri.\nSolusi Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi root.\nPersiapan stop semua docker yang sedang berjalan\n","keywords":["docker"],"articleBody":"Latar Belakang Masalah Secara default, direktori docker terletak pada /var/lib/docker. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage root kita yang pada akhirnya akan menghentikan service docker itu sendiri.\nSolusi Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi root.\nPersiapan stop semua docker yang sedang berjalan\ndocker stop $(docker ps -aq)\nstop docker service\nsudo systemctl stop docker.service sudo systemctl stop docker.socket\ncek status docker service untuk memastikan servis telah berhenti\nsudo systemctl status docker.service\nbackup (copy) docker direktori\nsudo cp -r /var/lib/docker /var/lib/docker.bak\npindahkan direktori docker ke tempat baru\nsudo rsync -avxP /var/lib/docker/ /new/path/to/docker/\nSetelah berhasil ter-copy. Kita lanjutkan untuk merelokasi docker dengan cara membuat symbolic link.\nRelokasi /var/lib/docker Sebenarnya, ada beberapa cara untuk merelokasi docker. Tapi, di bawah ini adalah cara yang paling mudah. Dikarenakan kita tidak perlu mengubah file konfigurasi docker.\nmembuat symbolic link\nsudo ln -s /new/path/to/docker/ /var/lib/docker\nstart docker service\nsudo systemctl start docker\ncek status docker service untuk memastikan service berjalan tanpa masalah\nsudo systemctl status docker\nhapus direktori docker yang lama, jika service docker sudah berhasil berjalan\nrm -r /var/lib/docker.bak\nPenutup Demikian cara merelokasi /var/lib/docker di sistem operasi linux. Cara ini sangat penting jika kita ingin menjaga partisi root kita tetap memiliki kapasitas storage yang cukup untuk aplikasi linux lainnya.\n","wordCount":"237","inLanguage":"en","datePublished":"2024-08-29T18:41:16+07:00","dateModified":"2024-12-16T15:42:23+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rohimoz28.github.io:44045/blog/relokasi-docker/"},"publisher":{"@type":"Organization","name":"Rohimoz28","logo":{"@type":"ImageObject","url":"https://rohimoz28.github.io:44045/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rohimoz28.github.io:44045/ accesskey=h title="Rohimoz28 (Alt + H)">Rohimoz28</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rohimoz28.github.io:44045/ title=Home><span>Home</span></a></li><li><a href=https://rohimoz28.github.io:44045/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://rohimoz28.github.io:44045/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rohimoz28.github.io:44045/>Home</a>&nbsp;»&nbsp;<a href=https://rohimoz28.github.io:44045/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">Relokasi Docker</h1><div class=post-meta><span title='2024-08-29 18:41:16 +0700 WIB'>August 29, 2024</span>&nbsp;·&nbsp;2 min</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#latar-belakang-masalah aria-label="Latar Belakang Masalah">Latar Belakang Masalah</a></li><li><a href=#solusi aria-label=Solusi>Solusi</a></li><li><a href=#persiapan aria-label=Persiapan>Persiapan</a></li><li><a href=#relokasi-varlibdocker aria-label="Relokasi /var/lib/docker">Relokasi /var/lib/docker</a></li><li><a href=#penutup aria-label=Penutup>Penutup</a></li></ul></div></details></div><div class=post-content><h3 id=latar-belakang-masalah>Latar Belakang Masalah<a hidden class=anchor aria-hidden=true href=#latar-belakang-masalah>#</a></h3><p>Secara default, direktori docker terletak pada <code>/var/lib/docker</code>. Ada kalanya, ketika docker image , volume dan container sudah terlalu besar sehingga memakan storage. Kita ingin memindahkan letak direktori docker ini agar tidak memakan storage <code>root</code> kita yang pada akhirnya akan menghentikan service docker itu sendiri.</p><h3 id=solusi>Solusi<a hidden class=anchor aria-hidden=true href=#solusi>#</a></h3><p>Maka dari itu, kita perlu merelokasi direktori default docker ini ke partisi lain yang memiliki kapasitas lebih besar daripada partisi <code>root</code>.</p><h3 id=persiapan>Persiapan<a hidden class=anchor aria-hidden=true href=#persiapan>#</a></h3><ol><li><p>stop semua docker yang sedang berjalan</p><p><code>docker stop $(docker ps -aq)</code></p></li><li><p>stop docker service</p><p><code>sudo systemctl stop docker.service</code><br><code>sudo systemctl stop docker.socket</code></p></li><li><p>cek status docker service untuk memastikan servis telah berhenti</p><p><code>sudo systemctl status docker.service</code></p></li><li><p>backup (copy) docker direktori</p><p><code>sudo cp -r /var/lib/docker /var/lib/docker.bak</code></p></li><li><p>pindahkan direktori docker ke tempat baru</p><p><code>sudo rsync -avxP /var/lib/docker/ /new/path/to/docker/</code></p></li></ol><p>Setelah berhasil ter-copy. Kita lanjutkan untuk merelokasi docker dengan cara membuat symbolic link.</p><h3 id=relokasi-varlibdocker>Relokasi /var/lib/docker<a hidden class=anchor aria-hidden=true href=#relokasi-varlibdocker>#</a></h3><p>Sebenarnya, ada beberapa cara untuk merelokasi docker. Tapi, di bawah ini adalah cara yang paling mudah. Dikarenakan kita tidak perlu mengubah file konfigurasi docker.</p><ol><li><p>membuat symbolic link</p><p><code>sudo ln -s /new/path/to/docker/ /var/lib/docker</code></p></li><li><p>start docker service</p><p><code>sudo systemctl start docker</code></p></li><li><p>cek status docker service untuk memastikan service berjalan tanpa masalah</p><p><code>sudo systemctl status docker</code></p></li><li><p>hapus direktori docker yang lama, jika service docker sudah berhasil berjalan</p><p><code>rm -r /var/lib/docker.bak</code></p></li></ol><h3 id=penutup>Penutup<a hidden class=anchor aria-hidden=true href=#penutup>#</a></h3><p>Demikian cara merelokasi <code>/var/lib/docker</code> di sistem operasi linux. Cara ini sangat penting jika kita ingin menjaga partisi <code>root</code> kita tetap memiliki kapasitas storage yang cukup untuk aplikasi linux lainnya.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://rohimoz28.github.io:44045/tags/docker/>Docker</a></li></ul><nav class=paginav><a class=prev href=https://rohimoz28.github.io:44045/blog/install-odoo-menggunakan-docker/><span class=title>« Prev</span><br><span>Install Odoo 17 Menggunakan Docker</span>
</a><a class=next href=https://rohimoz28.github.io:44045/blog/override-ir-model-access-csv/><span class=title>Next »</span><br><span>Override ir.model.access.csv</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Relokasi Docker on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frohimoz28.github.io%3a44045%2fblog%2frelokasi-docker%2f&amp;title=Relokasi%20Docker&amp;summary=Relokasi%20Docker&amp;source=https%3a%2f%2frohimoz28.github.io%3a44045%2fblog%2frelokasi-docker%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Relokasi Docker on whatsapp" href="https://api.whatsapp.com/send?text=Relokasi%20Docker%20-%20https%3a%2f%2frohimoz28.github.io%3a44045%2fblog%2frelokasi-docker%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Relokasi Docker on telegram" href="https://telegram.me/share/url?text=Relokasi%20Docker&amp;url=https%3a%2f%2frohimoz28.github.io%3a44045%2fblog%2frelokasi-docker%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://rohimoz28.github.io:44045/>Rohimoz28</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>